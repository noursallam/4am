---
import Container from "../shared/Container.astro";
import Title from "../shared/Title.astro";
import Paragraph from "../shared/Paragraph.astro";

// Create an array of all available brand IDs (1-31)
const brandIds = Array.from({ length: 31 }, (_, i) => i + 1);

// Featured brands for the marquee section (first 10)
const featuredBrands = brandIds.slice(0, 10);

// Remaining brands for the grid display (all brands)
const gridBrands = brandIds;

// Create brand objects with appropriate data
const createBrandObject = (id) => ({
  id,
  name: `Brand ${id}`,
  logo: `/logos/${id}.png`,
  behanceLink: `https://www.behance.net/your-profile/project${id}`
});
---

<section id="partners" class="py-20 bg-gray-50/50 dark:bg-gray-900/30">
  <Container className="space-y-12">
    <div class="text-center max-w-3xl mx-auto" data-aos="fade-up">
      <Title>
        شركاء نجاحنا
      </Title>
      <Paragraph className="mt-4 text-lg">
        فخورون بالشراكات الاستراتيجية التي نبنيها مع علامات تجارية رائدة في مختلف القطاعات
      </Paragraph>
    </div>
    
    <!-- Marquee scrolling brands showcase -->
    <div class="relative overflow-hidden py-8 bg-gradient-to-r from-gray-100 via-white to-gray-100 dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 rounded-2xl shadow-inner border border-gray-100 dark:border-gray-800"
        data-aos="fade-up" data-aos-delay="100">
      <div class="absolute left-0 top-0 h-full w-16 bg-gradient-to-r from-gray-50 to-transparent dark:from-gray-900 z-10"></div>
      <div class="absolute right-0 top-0 h-full w-16 bg-gradient-to-l from-gray-50 to-transparent dark:from-gray-900 z-10"></div>
      
      <div class="flex animate-marquee items-center">
        {featuredBrands.map(id => {
          const brand = createBrandObject(id);
          return (
            <div class="flex-shrink-0 mx-8 md:mx-12">
              <img 
                src={brand.logo} 
                alt={brand.name} 
                class="h-12 w-auto md:h-16 object-contain filter dark:brightness-110 drop-shadow-md transition-all duration-300 hover:scale-110" 
                width="140" 
                height="70"
                loading="lazy"
              />
            </div>
          );
        })}
        <!-- Duplicate for seamless looping -->
        {featuredBrands.map(id => {
          const brand = createBrandObject(id);
          return (
            <div class="flex-shrink-0 mx-8 md:mx-12">
              <img 
                src={brand.logo} 
                alt={brand.name} 
                class="h-12 w-auto md:h-16 object-contain filter dark:brightness-110 drop-shadow-md transition-all duration-300 hover:scale-110" 
                width="140" 
                height="70"
                loading="lazy"
              />
            </div>
          );
        })}
      </div>
    </div>
    
    <!-- Main grid of all partners -->
    <div class="mt-10">
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-6">
        {gridBrands.slice(0, 12).map((id, index) => {
          const brand = createBrandObject(id);
          return (
            <a 
              href={brand.behanceLink} 
              target="_blank" 
              rel="noopener noreferrer" 
              class="group"
              data-aos="fade-up" 
              data-aos-delay={100 + (index % 6) * 50}
            >
              <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 
                    rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300
                    flex flex-col items-center justify-center p-3 sm:p-4 h-full aspect-square
                    hover:border-primary/30 dark:hover:border-primary/50 hover:-translate-y-1"
              >
                <div class="relative flex items-center justify-center h-12 sm:h-16 w-full">
                  <img 
                    src={brand.logo} 
                    alt={brand.name} 
                    class="h-full w-auto max-w-full object-contain transition-all duration-300 
                           group-hover:scale-110 group-hover:brightness-110 filter drop-shadow-sm"
                    width="100" 
                    height="70"
                    loading="lazy"
                  />
                  <div class="absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"></div>
                </div>
                <p class="mt-4 text-sm text-center text-gray-600 dark:text-gray-300 opacity-0 group-hover:opacity-100 transition-all duration-300
                          transform group-hover:translate-y-0 translate-y-2">
                  عرض المشروع
                </p>
              </div>
            </a>
          );
        })}
      </div>
    </div>
    
    <!-- CTA for potential partners -->
    <div class="mt-12 text-center py-8 px-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700"
         data-aos="fade-up" data-aos-delay="100">
      <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">
        كن شريكًا في نجاحنا القادم
      </h3>
      <p class="text-base text-gray-700 dark:text-gray-300 mb-6 max-w-2xl mx-auto">
        هل تريد أن تصبح أحد شركائنا؟ نحن دائمًا نبحث عن فرص تعاون جديدة ومثيرة
      </p>
      <a 
        href="#contact" 
        class="inline-flex items-center px-8 py-3 rounded-lg bg-primary text-white font-medium hover:bg-primary/90 transition-colors
               shadow-lg shadow-primary/20 hover:shadow-primary/30"
      >
        تواصل معنا
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ms-2 rtl:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
        </svg>
      </a>
    </div>
  </Container>
</section>

<style>
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  .animate-marquee {
    animation: marquee 30s linear infinite;
    white-space: nowrap;
  }
  
  /* Responsive animation speed adjustments */
  @media (max-width: 768px) {
    .animate-marquee {
      animation-duration: 20s;
    }
  }
</style>
